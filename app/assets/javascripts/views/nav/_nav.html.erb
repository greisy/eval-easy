<div ng-controller="NavCtrl"> 

  <nav class="white" ng-show="signedIn">
    <div class="nav-wrapper">
      <a href="" class="brand-logo gray-text">GradeClass</a>
      <!-- Preguntar cuál es el rol para mostrar este ul o el otro-->
      <ul class="right hide-on-med-and-down">
        <li><a href="#" data-activates="slide-out" class="side-nav2" ng-click="set_values()"><i class="material-icons left">account_balance</i>Institución</a></li>
        <li><a href="#" data-activates="slide-planning" class="side-nav3" ng-hide="subjects.length== 0"><i class="material-icons left">schedule</i>Planificación</a></li>
        <li><a href="#" class="dropdown-button" data-activates="logout" data-beloworigin="true" data-constrainwidth="false"><i class="material-icons left">face</i>{{user.name}}</a>
          <ul id="logout" class="dropdown-content">
            <li><a ng-click="logout()">Cerrar Sesión</a></li>
          </ul>
        </li>
      </ul>

      <!-- 
      <ul>Aqui colocaremos los li dinamicos con las asignaturas y el submenu siempre será el mismo</ul>  -->
    </div>
  </nav>

  <ul id="slide-out" class="side-nav color-side-nav">
    <li><div class="userView institution-info">
      <a href="#!user"><%= image_tag("ucv", class: "circle responsive-img")%></a>
      <a href="#!name"><span class="name title little-size">{{institution.institution.name}}</span></a>
    </div></li>
    <!--<li><a ui-sref="degrees" class=".gray-link"><i class="material-icons">cloud</i>Carreras</a></li>-->
    <li ng-hide="subjects.length == 0"><a id="new_planning" href="#add_planning" >Nueva planificacion<i class="material-icons">add_circle</i></a></li>
    <li><a ui-sref="subjects" class=".gray-link"><i class="material-icons">import_contacts</i>Asignaturas</a></li>
    <li><a ui-sref="teachers" class=".gray-link"><i class="material-icons">supervisor_account</i>Agentes Evaluadores</a></li>
    
    <!--<li><a href="#!" class=".gray-link"><i class="fa fa-calendar"></i>Periodo Academico</a></li>-->
    <li><a ui-sref="students" class=".gray-link"><i class="material-icons">school</i>Estudiantes</a></li>
    <li>{{subjects}}</li>
  </ul>
  <ul id="slide-planning" class="side-nav color-side-nav">
    <li>
      <div class="userView institution-info">
        <a href="#!user"><%= image_tag("ucv", class: "circle responsive-img")%></a>
        <a href="#!name"><span class="name title little-size">{{institution.institution.name}}</span></a>
      </div>
    </li>
    <li ng-repeat="range_date_term in range_date_terms"><a ui-sref="plannings({id:'{{range_date_term.id}}'})" class="gray-link">{{range_date_term.name}}</a></li>
  </ul>

</div>
<!--<div ng-include="'views/plannings/_new.html'"></div>-->

<modal-planning></modal-planning>
<script type="text/javascript">
  $(".side-nav2").sideNav();
  $(".side-nav3").sideNav({
    menuWidth: 350
  });
  $('.dropdown-button').dropdown();
</script>
